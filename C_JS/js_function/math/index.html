<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Compile C to WebAssembly</title>
  <script src="./loader.js"></script>

  <script>
    function  display_alert()
    {
        alert("I am an alert box!")
    }
  </script>

</head>

<body>
  <h1>Compile C to WebAssembly</h1>
  <p>The test result can be found in console.</p>

  <input type="button" onclick="display_alert()"
         value="Display alert box" />

  <script>
    loadWebAssembly('math.wasm')
      .then(instance => {
        const add = instance.exports._add
        const square = instance.exports._square
        console.log('2^2 =', square(2))
        console.log('3^2 =', square(3))
        console.log('4 + 5 =', add(4,5))
        console.log('(2 + 5)^2 =', square(add(2,5)))
      })
  </script>
</body>
</html>
